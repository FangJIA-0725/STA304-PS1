---
title: "The relationship between the population of each neighborhood and counts of break and enter in 2016."
author: "Fang Jia"
date: 2020-09-24T21:13:14-05:00
abstract: "This paper uses the dataset of neighborhood crime rates found on the Toronto Open Data Portal. We find that each neighborhood's population in 2016 is positively related to counts of break and enter in 2016. Our findings have implications for predicting crime rates by using population."
bibliography: "reference.bib"
categories: ["R"]
tags: ["R Markdown", "plot", "regression"]
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)
```
# Part I Introduction

In this experiment, we focus on analyzing the relationship between two numerical variables. We select two interesting variables from the data we found on the Toronto Open Data Portal. Y is the counts of break and enter in 2016. X is the population of each neighborhood in 2016. We assume a relationship between (counts of break and enter in 2016) and each neighborhood's population in 2016. 

Firstly, we create a histogram of counts of break and enter in 2016. It shows the distribution, center, and spread. Secondly, we make a scatter plot of (counts of break and enter in 2016) and each neighborhood population in 2016. It tells the association between (counts of break and enter in 2016)  and each neighborhood's population in 2016. From the above graphs, we could tell whether there is a relationship between X and Y.

Many factors affect counts of break and enter in 2016 beside each neighborhood's population. If we only analyze population and counts of break and enter in 2016, we can't tell whether the population affect counts of break and enter in 2016 or not. In future work, we need to find the recent five years of data to analyze their relationship. 

Outline of the paper:    I Introduction 
                         - Major specific finding
                         - How to find the finding
                         - The limitation of data
                         II Data
                         - describe data background
                         - describe data parameters 
                         III Graphs
                         - create a histogram 
                         - create a boxplot
                         IV Description 
                         - discuss histogram 
                         - discuss scatter plot
                         V Reference 
                          
                       
                         
# Part II Data 
```{r}
install.packages("opendatatoronto")
install.packages("dplyr")
library(opendatatoronto)
library(dplyr)

# get package
package <- show_package("fc4d95a6-591f-411f-af17-327e6c5d03c7")
package

# get all resources for this package
resources <- list_package_resources("fc4d95a6-591f-411f-af17-327e6c5d03c7")

# identify datastore resources; by default, Toronto Open Data sets datastore resource format to CSV for non-geospatial and GeoJSON for geospatial resources
datastore_resources <- filter(resources, tolower(format) %in% c('csv', 'geojson'))

# load the first datastore resource as a sample
data <- filter(datastore_resources, row_number()==1) %>% get_resource()
data

glimpse(data)
```

The data set is called the Neighbourhood Crime Rates. There are a total of 62 variables and 140 observations in the data set. It includes Assault, Auto Theft, Break and Enter, Robbery, Theft Over, and Homicide for 2014-2019. It also has five-year averages and crime rates per 100,000 people by neighborhood based on the 2016 Census Population.  The following chart shows the interpretation of every variable in the data set.

1._id	: Unique row identifier for Open Data database

OBJECTID:	Autogenerated distinct record identifier

Neighbourhood: Name of City of Toronto neighbourhood 

Hood_ID: City of Toronto neighbourhood identifier

Population: 2016 Census Population

Assault_2014/Assault_2015/Assault_2016/Assault_2017/Assault_2018/Assault_2019 : Count of assaults for 2014/2015/2016/2017/2018/2019 respectively.

Assault_AVG:Average Assaults from 2014 - 2019

Assault_CHG: % Change in assaults from 2018-2019

Assault_Rate_2019: Rate of assaults for 2019 per 100,000 population

AutoTheft_2014/AutoTheft_2015/AutoTheft_2016/AutoTheft_2017/AutoTheft_2018/AutoTheft_2019: Count of auto thefts for 2014/2015/2016/2017/2018/2019 respectively.

AutoTheft_AVG: Averate auto thefts from 2014-2019

AutoTheft_CHG: % Change in auto thefts from 2018-2019

AutoTheft_Rate_2019: Rate of auto thefts for 2019 per 100,000 population

BreakandEnter_2014/BreakandEnter_2015/BreakandEnter_2016/BreakandEnter_2017/BreakandEnter_2018/BreakandEnter_2019: Count of break and enters for 2014/2015/2016/2017/2018/2019 respectively.

BreakandEnter_AVG:Averate break and enters from 2014-2019

BreakandEnter_CHG: % Change in break and enters from 2018-2019

BreakandEnter_Rate_2019: Rate of break and enters for 2019 per 100,000 population

Homicide_2014/Homicide_2015/Homicide_2016/Homicide_2017/Homicide_2018/Homicide_2019: Count of homicides for 2014/2015/2016/2017/2018/2019 respectively.

Homicide_AVG: Averate homicides from 2014-2019

Homicide_CHG: % Change in homicides from 2018-2019

Homicide_Rate_2019: Rate of homicides for 2019 per 100,000 population

Robbery_2014/Robbery_2015/Robbery_2016/Robbery_2017/Robbery_2018/Robbery_2019: Count of robberies for 2014/2015/2016/2017/2018/2019 respectively.

Robbery_AVG: Averate robberies from 2014-2019

Robbery_CHG: % Change in robberies from 2018-2019

Robbery_Rate_2019: Rate of robberies for 2019 per 100,000 population

TheftOver_2014/TheftOver_2015/TheftOver_2016/TheftOver_2017/TheftOver_2018/TheftOver_2019: Count of thefts over for 2014/2015/2016/2017/2018/2019 respectively.

TheftOver_AVG: Averate thefts over from 2014-2019

TheftOver_CHG: % Change in thefts over from 2018-2019

TheftOver_Rate_2019:Rate of thefts over for 2019 per 100,000 population

Shape__Area: Autogenerated area measurement

Shape__Length: Autogenerated length measurement

Geometry: the x and y coordinates of associated neighbourhood 

# Part III Graphs
```{r}
install.packages("tidyverse")
install.packages("ggplot2")
library(ggplot2)
library(tidyverse)

Histogram <- ggplot(data = data, aes(x = BreakandEnter_2016)) + geom_histogram(color = "blue", fill = "white", bins = 30)
Histogram + labs(x = "counts of break and enter for 2016", title = "The distribution of counts of break and enter for 2016" )

 scatter_plot <- ggplot(data, aes(x=Population, y=BreakandEnter_2016)) + 
  geom_point(shape=18, color="blue")+
  geom_smooth(method=lm,  linetype="dashed",
             color="darkred", fill="blue")
 scatter_plot + labs(x = "Population of each Neighbourhood in 2016", y = "counts of break and enter for 2016", title = "The relationship between Population and counts of break and enter for 2016") 


```

# Part IV Description

The above histogram shows a non-symmetric distribution. If the distribution cut in half, the left side frequency is higher than the right side frequency, Which means fewer neighborhoods have over 100 counts of break and enter. We find that the distribution of counts of break and enter for 2016 is heavily right-skewed. It is not an approximately normal distribution.

We can describe the center of the distribution of counts of break and enter by analyzing mean and median since the distribution of break and enter counts is not approximately normal. We can describe the center by using the median. The left side has more frequency compared to the right side. The histogram shows the median range will approximately appear on the left side. We can say that the distribution of counts of break and enter is centered around a range of 30-50. The content of distribution of counts of break and enter is from 9 to 212. We can see that there is an outlier that is larger than 200. The outlier point means that one neighborhood in Toronto has over 200 counts of break and enter.
The outlier is associated with the neighborhood of Waterfront Communities-The Island. It implies that Waterfront Communities-The Island is a dangerous place compared to other neighborhoods. 

Using the above scatter plot, we find the relationship between population and (counts of break and enter) in 2016. The dotted line shows the strong positive linear line for population and (break and enter) in 2016. Each blue dots represent the counts of break and enter in each neighborhood. We also observe the outlier in the above scatter plot. There is one blue dot far from the positive linear line. It is considered an error because the population can't precisely predict counts of break and enter reality. Therefore, we can conclude a positive relationship between population, break, and enter counts. When each neighborhood's population in 2016 increased, the counts of break and enter in 2016 will also increase.


# Reference 

1.Open Data Catalogue. (n.d.). Retrieved September 27, 2020, from https://open.toronto.ca/catalogue/?search=crime 

2.A Complete Guide to Scatter Plots. (n.d.). Retrieved September 27, 2020, from https://chartio.com/learn/charts/what-is-a-scatter-plot/


